resources:
    ProjetNormandie\ForumBundle\Entity\Forum:
        shortName: 'ForumForum'
        collectionOperations:
            get: ~
            read-all:
                method: 'POST'
                access_control: 'is_granted("ROLE_USER")'
                path: '/forum_forums/read-all'
                swagger_context:
                    description: 'Read all forums'
                controller: 'ProjetNormandie\ForumBundle\Controller\ForumController::readAll'
        itemOperations:
            get:
                normalization_context: {'groups': [forum.forum.read]}
                access_control: 'object.getStatus() == "public" or is_granted(object.getRole())'
            read:
                method: 'GET'
                access_control: 'is_granted("ROLE_USER")'
                path: '/forum_forums/{id}/read'
                swagger_context:
                    description: 'Read one forum'
                    parameters:
                        -   name: id
                            in: path
                            required: true
                            type: integer
                controller: 'ProjetNormandie\ForumBundle\Controller\ForumController::read'
        properties:
            topics:
                subresource:
                    resourceClass: 'ProjetNormandie\ForumBundle\Entity\Topic'
                    maxDepth: 1
                    collection: false